@use '../base/colors' as c;
@use '../base/typography' as t;
@use '../base/mixins' as m;

.header
{
    // Background image: We provide with Avif, Webp and png versions, so the browser will choose the best one. There are 2 backgrounds, corresponding to mobile or desktop screen sizes
    background-image: linear-gradient(to right, rgba(c.$black, .65),rgba(c.$black,.1)), image-set(url(../img/header_background_mobile.avif) 1x, url(../img/header_background_mobile.webp) 1x, url(../img/header_background_mobile.png) 1x);
    background-position: center center;
    background-size: cover;

    padding: 2rem;

    @include m.flex($direction: column, $align: center, $gap: .5rem);
    .logo
    {
        width: 12rem;
        height: 9rem;
    }

    // We set the position of menu_list regarding the header position. It will appear just below the header 
    position: relative;
    .menu_list
    {
        position: absolute;
        top:100%;
        left: 0;
        right: 0;
    }

    @include m.tablet
    {
        @include m.grid($columns: repeat(2,1fr));
        gap:0;
        place-items: center right;
        background-image: linear-gradient(to right, rgba(c.$black, .65),rgba(c.$black,.1)),image-set(url(../img/header_background_desktop.avif) 1x, url(../img/header_background_desktop.webp) 1x, url(../img/header_background_desktop.png) 1x);
        .menu_list // When the content is displayed in a big screen, it is better to have a smaller menu, so it starts in the middle of the screen.
        {
            left:50%;
        }
    }
}

.menu
{
    summary
    {
        list-style: none;
        .icon
        {
            width: 4.2rem;
        }
    }

    .icon
    {
        width: 2rem;
        filter:invert(100%);
        &:hover
        {
            cursor: pointer;
        }
    }
}

.menu[open]
{
    @include m.tablet
    {
        &>summary // In screen sizes higher than a mobile phone, the content is displayed using two horizontal grid cells. When the content is displayed, the summary logo is moved to the left in order to be aligned with the content. So we fix its position: right 2 rem is due to the header has a 2rem padding defined, so we keep that.
        {
            position: absolute;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
        }
    }
    .menu_list
    {
        @include m.flex($direction: column, $align: center, $gap: 1rem);
        background-color: c.$green;
        padding: 2rem;
        box-shadow: rgba(0, 0, 0, 0.25) 0px 14px 28px, rgba(0, 0, 0, 0.22) 0px 10px 10px;
    }

    summary~*
    {
        animation: menu_animation .3s ease-out;
    }
}

.menu_animation_close 
{
    animation: menu_animation .3s ease-in reverse;
}

.search_bar
{
    @include m.flex($gap:.5rem);
    background-color: c.$white;
    padding: 1rem;
    border: 1px solid c.$lightGrey;
    border-radius: 1.2rem;
    width: 100%;

    &:focus-within
    {
        outline: 5px auto Highlight;
        outline: 5px auto -webkit-focus-ring-color;
    }

    input[type="text"]
    {
        border:none;
        &:focus
        {
            outline: none;
        }
    }
}

.nav_bar
{
    @include m.flex($direction: column, $align: center, $gap:.5rem);
    width: 100%;
    a
    {
        background-color: c.$white;
        color: c.$green;
        border: 1px solid c.$lightGrey;
        padding: 1rem;
        border-radius: 1.2rem;
        width: 100%;
        text-align: center;

        &:hover
        {
            background-color: c.$green;
            color: c.$white;
        }
    }
}

.settings
{
    width: 100%;
    @include m.reset-list();
    @include m.flex($justify: space-evenly, $align: center, $gap:1rem);
    .languages
    {
        @include m.flex($direction: column);
        color: c.$white;
        font-size: 2rem;
        summary
        {
            list-style: none;
            &::after
            {
                content: '\25BE';
                padding: .7rem;
                font-size: 1.8rem;
            }
        }
        &[open]
        {
            summary::after
            {
                content:'\25B4';
                font-size: 2.4rem;
            }
        }
        &--option
        {
            color: c.$white;
            padding: 1rem;
            border-radius: 2rem;
            margin-bottom: 0.2rem;
        }
        summary:hover, &--option:hover
        {
            cursor: pointer;
            color: c.$orange;
        }
    }
}

@keyframes menu_animation
{
    0% 
    {
        opacity: 0;
    }
    100% 
    {
        opacity: 1;
    }
}